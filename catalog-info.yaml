apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  name: sample-service-1
  title: Web-Finanzas
  description: |
    Servicio de test para Backstage. Tecnologia nodejs 
  links:
    - url: https://web.com
      title: Web Front prod
      icon: dashboard
    - url: https://backend.com
      title: Backend prod
      icon: dashboard
    - url: https://util.com
      title: Microservicio Util prod
      icon: dashboard
    - url: https://dev.web.com
      title: Web Front dev
      icon: dashboard
  tags:
    - node-12
    - js
    - roble
  annotations:
    backstage.io/techdocs-ref: dir:.
    sonarqube.org/project-key: SISTADMISION-BKOFFCAJAS-ANGULAR
    jenkins.io/job-full-name: prod:produccion/Roble-Finanzas/web-finanzas
spec:
  type: website
  owner: trebol-it
  lifecycle: production
  system: Roble-finanzas
  providesApis:
    - sample-service
  dependsOn:
    - Component:sample-service-2
    - Resource:sample-s3-bucket

---
apiVersion: backstage.io/v1alpha1
kind: Component
metadata:
  title: Sentry JS
  name: sentry-js
  description: A JS client which communicates with the Sentry HTTP API.
spec:
  type: library
  lifecycle: production
  owner: trebol-it
  system: Roble-finanzas
  subcomponentOf: sample-service-1

---
apiVersion: backstage.io/v1alpha1
kind: API
metadata:
  title: Ejemplo Service API
  name: TYK
  description: The Sample Service API allows you to send errors to Rollbar or Sentry.
  tags:
    - unstable
spec:
  type: openapi
  lifecycle: production
  owner: trebol-it
  system: Roble-finanzas
  definition:
    $text: https://github.com/RoadieHQ/sample-service/blob/main/api-spec.yaml

---
apiVersion: backstage.io/v1alpha1
kind: Resource
metadata:
  name: bd-mongo
  description: BD Mongo en cluster k8, replicaset 3 replicas.
spec:
  type: bd-mongo
  owner: trebol-it
  system: Roble-finanzas
